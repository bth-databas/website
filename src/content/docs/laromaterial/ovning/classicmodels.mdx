---
title: "Övning databasen Classic Models" 
description: "Övning för att komma igång med databasen Classic Models och analysera dess innehåll."
author: mos
revision:
    "2026-01-31": "(A, mos) Första versionen."
sidebar:
    order: 0300
---

import Figure from '@components/CustomFigure.astro';
import YouTube from '@components/YouTube.astro';

{/*
TODO
* 
* 
*/}

I denna övningen skall vi använda en befintlig databas som heter Classic Models. Databasen innehåller information om ett företag som säljer modellbilar. Vi skall läsa in databasen i vår MariaDB-server och sedan använda både terminalklienten och desktopklienten för att analysera databasens schema och dess innehåll.

import cm1 from '@assets/databas/classicmodels/cm1.png';

<Figure 
    src={cm1}
    caption="Översikt av databasen classicmodels."
/>



## Förutsättningar

Du har installerat labbmiljön för kursen och du har tillgång till terminalklienten och desktopklienten.

Du är van att navigera i terminalen.

Du kan grunderna i SQL.



## Spara ditt arbete i ditt kursrepo

I ditt kursrepo, skapa följande katalog där du kan spara ditt arbete med denna övning:

```bash title="Skapa katalog för övningen"
# Gå till ditt kursrepo
mkdir -p kmom/03/classic
cd kmom/03/classic

# Öppna katalogen i VS Code
code .
```

Skapa filen `select.sql` och spara all SQL-kod du skriver på egen hand under övningen i den filen.

Börja med att lägga till följande header i filen `select.sql`.

```sql title="select.sql"
-- SQL-kod för övningen Databasen World
-- Kurs: Databasteknik
-- Författare: Ditt Namn
-- Datum: ÅÅÅÅ-MM-DD
```

Uppdatera med rätt datum och namn. Du kan skriva kommentarerna på engelska om du vill.



## Ladda in databasen world från backupfilen

I ditt kursrepo ligger en backupfil för databasen "classicmodels" som du kan använda för att läsa in databasen i din MariaDB-server. Du hittar backupfilen i `example/db/classicmodels.sql`.

Du kan läsa in den så här i terminalklienten.

```bash title="Läs in databasen classicmodels i terminalklienten"
# Om du står i roten av ditt kursrepo
mariadb < example/db/classicmodels.sql

# Om du står i katalogen kmom/03/classic
mariadb < ../../../example/db/classicmodels.sql
```

Om du inte ser nån utskrift så har det (troligen) gått bra.

Du kan du verifiera att databasen finns genom att lista databaserna i terminalklienten.

```sql title="Verifiera att databasen classicmodels finns"
mariadb classicmodels -e "SHOW TABLES"
```

Utskriften kan se ut så här.

```text title="Exempelutskrift från SHOW TABLES"
$ mariadb classicmodels -e "SHOW TABLES"
+-------------------------+
| Tables_in_classicmodels |
+-------------------------+
| customers               |
| employees               |
| offices                 |
| orderdetails            |
| orders                  |
| payments                |
| phonelist               |
| productlines            |
| products                |
+-------------------------+
```

Nu kan du öppna terminalklienten.

```bash title="Öppna terminalklienten"
mariadb
```

När du kommit in i klienten kan du byta till databasen classicmodels och dubbelkolla vilka tabeller som finns i databasen igen.

```sql title="Byt till databasen classicmodels"
USE classicmodels;

SHOW TABLES;
```

Det kan se ut så här när du kör kommandona.

```text title="Exempelutskrift från USE och SHOW TABLES"
$ mariadb

MariaDB [(none)]> USE classicmodels;
Database changed

MariaDB [classicmodels]> SHOW TABLES;
+-------------------------+
| Tables_in_classicmodels |
+-------------------------+
| customers               |
| employees               |
| offices                 |
| orderdetails            |
| orders                  |
| payments                |
| phonelist               |
| productlines            |
| products                |
+-------------------------+
```

Nu är du redo att börja jobba med övningen.



## Övningen

Tanken är att du skall utforska databasen classicmodels och dess innehåll. Använd både terminalklienten och desktopklienten för att analysera databasens schema och dess innehåll.

Spara all SQL-kod du skriver i filen `select.sql`.



### 1. Utforska databasen classicmodels

Börja med att lista alla tabeller i databasen classicmodels. Gör DECRIBE på varje tabell för att se dess kolumner och datatyper.



### 2. Skapa ER-diagram via reverse engineering

Använd din desktopklient Workbench eller DBeaver för att skapa ett ER-diagram via reverse engineering av databasen classicmodels. Spara ER-diagrammet som en bildfil och döp den till `er.pdf` och spara den i katalogen `kmom/03/classic` i ditt kursrepo.



### 3. Analysera databasens innehåll

Skriv SQL-kod för att analysera databasens innehåll. Svara på följande frågor med SQL-kod. 

1. Hur många kontor har företaget och var finns kontoren?

1. Hur många kunder finns det i tabellen customers?

1. Kan du räkna ut hur mycket inbetalningar som företaget har fått? Det finns i tabellen payments.

1. Vilka är de fem mest sålda produkterna? Titta i tabellen orderdetails

1. Gör en lista med de fem mest sålda produkterna och deras antal sålda. Använd JOIN för att koppla ihop tabellerna products och orderdetails.
